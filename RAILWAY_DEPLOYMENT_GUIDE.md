# üöÄ Railway Deployment Guide - RovicAppv2

## ‚úÖ Completed Steps:
1. **Railway CLI Installed** - Version 4.11.0
2. **Logged in to Railway** - jeremiahsabiniano@gmail.com
3. **Project Created** - rovic-meatshop
4. **MySQL Database Added** - Ready for production data
5. **Configuration Files Created**:
   - `railway.json` - Project settings
   - `nixpacks.toml` - Build configuration
   - `Procfile` - Process definitions

## üìã Required Environment Variables for Production:

### **Application Settings**
```env
APP_NAME=Rovic Meatshop
APP_ENV=production
APP_DEBUG=false
APP_URL=https://your-domain.up.railway.app
APP_KEY=[Generated by Laravel]
```

### **Database (Auto-configured by Railway)**
```env
DB_CONNECTION=mysql
MYSQL_URL=[Provided by Railway]
MYSQL_HOST=[Provided by Railway]
MYSQL_PORT=[Provided by Railway]
MYSQL_DATABASE=[Provided by Railway]
MYSQL_USERNAME=[Provided by Railway]
MYSQL_PASSWORD=[Provided by Railway]
```

### **Session & Cache**
```env
SESSION_DRIVER=database
SESSION_LIFETIME=480
CACHE_STORE=database
QUEUE_CONNECTION=database
```

### **Mail Configuration (REQUIRED)**
Choose one:

**Option 1: Gmail SMTP**
```env
MAIL_MAILER=smtp
MAIL_HOST=smtp.gmail.com
MAIL_PORT=587
MAIL_USERNAME=your-email@gmail.com
MAIL_PASSWORD=your-app-password
MAIL_FROM_ADDRESS=your-email@gmail.com
MAIL_FROM_NAME="Rovic Meatshop"
```

**Option 2: Mailgun**
```env
MAIL_MAILER=mailgun
MAILGUN_DOMAIN=your-domain.mailgun.org
MAILGUN_SECRET=your-mailgun-secret
MAIL_FROM_ADDRESS=orders@your-domain.com
MAIL_FROM_NAME="Rovic Meatshop"
```

### **Social Authentication (Optional)**
```env
FACEBOOK_CLIENT_ID=your_facebook_app_id
FACEBOOK_CLIENT_SECRET=your_facebook_app_secret
GOOGLE_CLIENT_ID=your_google_client_id
GOOGLE_CLIENT_SECRET=your_google_client_secret
```

## üõ†Ô∏è Next Steps After Deployment:

### 1. Set Environment Variables
```bash
# Set each variable individually
npx railway variables set APP_NAME="Rovic Meatshop"
npx railway variables set APP_ENV=production
npx railway variables set APP_DEBUG=false
npx railway variables set SESSION_DRIVER=database
npx railway variables set SESSION_LIFETIME=480
npx railway variables set CACHE_STORE=database
npx railway variables set QUEUE_CONNECTION=database

# Mail configuration (example with Gmail)
npx railway variables set MAIL_MAILER=smtp
npx railway variables set MAIL_HOST=smtp.gmail.com
npx railway variables set MAIL_PORT=587
npx railway variables set MAIL_USERNAME=your-email@gmail.com
npx railway variables set MAIL_PASSWORD=your-app-password
npx railway variables set MAIL_FROM_ADDRESS=your-email@gmail.com
npx railway variables set MAIL_FROM_NAME="Rovic Meatshop"
```

### 2. Generate Application Key
```bash
npx railway run php artisan key:generate --show
# Copy the generated key and set it:
npx railway variables set APP_KEY="base64:your-generated-key"
```

### 3. Run Database Migrations
```bash
npx railway run php artisan migrate --force
npx railway run php artisan db:seed --force
```

### 4. Create Storage Link
```bash
npx railway run php artisan storage:link
```

### 5. Generate Custom Domain (Optional)
```bash
npx railway domain
```

## üìß Email Setup Instructions:

### **Gmail Setup (Recommended for testing):**
1. Enable 2-Factor Authentication on your Gmail account
2. Generate an App Password: Google Account ‚Üí Security ‚Üí App passwords
3. Use the app password in `MAIL_PASSWORD`

### **Production Email (Recommended):**
1. Sign up for Mailgun (free tier available)
2. Add your domain and verify DNS records
3. Use Mailgun credentials in environment variables

## üîó Useful Commands:

```bash
# View deployment logs
npx railway logs

# Open project in browser
npx railway open

# Check deployment status
npx railway status

# Run artisan commands on production
npx railway run php artisan [command]

# View environment variables
npx railway variables

# Connect to database
npx railway connect mysql
```

## üéØ Project URLs:
- **Railway Dashboard:** https://railway.com/project/90655116-8f20-4be0-a4d0-5e15d498c903
- **Application URL:** Will be provided after deployment

## ‚ö†Ô∏è Important Notes:
1. **Security:** Never commit `.env` files to Git
2. **Database:** Railway automatically configures MySQL connection
3. **File Storage:** Consider upgrading to cloud storage for production
4. **Monitoring:** Set up error tracking (Sentry) for production
5. **SSL:** Railway provides automatic HTTPS certificates

## üöÄ Deployment Status:
- [x] Railway project created
- [x] MySQL database provisioned  
- [ ] Environment variables configured
- [ ] Application deployed
- [ ] Database migrated
- [ ] Custom domain configured (optional)
